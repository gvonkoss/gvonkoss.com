@use './mixins';
@use './media-queries';

.sidebar {
	grid-area: sidebar;
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	grid-column-gap: 1rem;
	grid-row-gap: 0.5rem;
	width: 100%;

	@include media-queries.S() {
		display: block;
		align-self: flex-start;
		position: sticky;
		top: 0.8rem;
	}
}

.sidebar__link {
	@include mixins.shadow();
  align-self: center;
  text-decoration: none;
	padding: 0.8rem;

	@include media-queries.S() {
		display: block;
		margin-bottom: 0.8rem;
	}

	&:before {
    content: '';
		position: absolute;
		top: 0;
		right: 100%;
		bottom: 0;
		left: 0;
		transition: right 0.3s ease-in-out;
		background-color: var(--highlight);
  }

  @media screen and (prefers-reduced-motion) {
    &:hover {
      background-color: var(--highlight);

      &:before {
        display: none;
      }
    }
  }

  &:hover:before {
    content: attr(data-text);
    padding: 0.8rem;
    right: 0;
  }

	&[aria-current=page] {
		&:before {
			right: 0;
			content: attr(data-text);
			padding: 0.8rem;
		}
	}
}

.glossary {
	@include mixins.shadow();
	padding: 0.8rem;
	grid-column: 1 / 3;

	h4 { margin: 0 0 0.8rem }

	pre:last-of-type { margin-bottom: 0;}
}